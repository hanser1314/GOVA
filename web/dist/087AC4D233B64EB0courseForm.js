/*! 
 Build based on gin-vue-admin 
 Time : 1700123686000 */
import{W as e,u as a,a as l,r,o,c as t,b as u,d as s,w as c,g as i,k as d,l as n,E as m}from"./087AC4D233B64EB0index.js";import{a as p,E as B}from"./087AC4D233B64EB0form-item.js";/* empty css                      *//* empty css                     */import{f as b,c as f,u as v}from"./087AC4D233B64EB0course2.js";import"./087AC4D233B64EB0date.js";import"./087AC4D233B64EB0dictionary.js";import"./087AC4D233B64EB0castArray.js";import"./087AC4D233B64EB0_baseClone.js";import"./087AC4D233B64EB0_Uint8Array.js";import"./087AC4D233B64EB0_initCloneObject.js";import"./087AC4D233B64EB0sysDictionary2.js";const g={class:"gva-form-box"},C=Object.assign({name:"CourseForm"},{__name:"courseForm",setup(C){const y=e(),j=a(),A=l(""),D=l({cno:"",cname:"",cpno:"",ccredit:0}),E=r({cno:[{required:!0,message:"",trigger:["input","blur"]}],cname:[{required:!0,message:"",trigger:["input","blur"]}],cpno:[{required:!0,message:"",trigger:["input","blur"]}],ccredit:[{required:!0,message:"",trigger:["input","blur"]}]}),_=l();(async()=>{if(y.query.id){const e=await b({ID:y.query.id});0===e.code&&(D.value=e.data.recourse,A.value="update")}else A.value="create"})();const V=async()=>{var e;null==(e=_.value)||e.validate((async e=>{if(!e)return;let a;switch(A.value){case"create":default:a=await f(D.value);break;case"update":a=await v(D.value)}0===a.code&&d({type:"success",message:"创建/更改成功"})}))},h=()=>{j.go(-1)};return(e,a)=>{const l=n,r=p,d=m,b=B;return o(),t("div",null,[u("div",g,[s(b,{model:D.value,ref_key:"elFormRef",ref:_,"label-position":"right",rules:E,"label-width":"80px"},{default:c((()=>[s(r,{label:"课程号:",prop:"cno"},{default:c((()=>[s(l,{modelValue:D.value.cno,"onUpdate:modelValue":a[0]||(a[0]=e=>D.value.cno=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(r,{label:"课程名:",prop:"cname"},{default:c((()=>[s(l,{modelValue:D.value.cname,"onUpdate:modelValue":a[1]||(a[1]=e=>D.value.cname=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(r,{label:"先行课编号:",prop:"cpno"},{default:c((()=>[s(l,{modelValue:D.value.cpno,"onUpdate:modelValue":a[2]||(a[2]=e=>D.value.cpno=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(r,{label:"学分:",prop:"ccredit"},{default:c((()=>[s(l,{modelValue:D.value.ccredit,"onUpdate:modelValue":a[3]||(a[3]=e=>D.value.ccredit=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(r,null,{default:c((()=>[s(d,{type:"primary",onClick:V},{default:c((()=>[i("保存")])),_:1}),s(d,{type:"primary",onClick:h},{default:c((()=>[i("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{C as default};
