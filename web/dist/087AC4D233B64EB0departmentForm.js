/*! 
 Build based on gin-vue-admin 
 Time : 1700123686000 */
import{W as e,u as a,a as l,r,o as t,c as o,b as s,d,w as n,g as u,k as m,l as i,E as p}from"./087AC4D233B64EB0index.js";import{a as c,E as B}from"./087AC4D233B64EB0form-item.js";/* empty css                      *//* empty css                     */import{f,c as g,u as v}from"./087AC4D233B64EB0department2.js";import"./087AC4D233B64EB0date.js";import"./087AC4D233B64EB0dictionary.js";import"./087AC4D233B64EB0castArray.js";import"./087AC4D233B64EB0_baseClone.js";import"./087AC4D233B64EB0_Uint8Array.js";import"./087AC4D233B64EB0_initCloneObject.js";import"./087AC4D233B64EB0sysDictionary2.js";const b={class:"gva-form-box"},y=Object.assign({name:"DepartmentForm"},{__name:"departmentForm",setup(y){const C=e(),D=a(),j=l(""),A=l({dno:"",dname:"",dmanagerno:""}),E=r({dno:[{required:!0,message:"",trigger:["input","blur"]}],dname:[{required:!0,message:"",trigger:["input","blur"]}],dmanagerno:[{required:!0,message:"",trigger:["input","blur"]}]}),_=l();(async()=>{if(C.query.id){const e=await f({ID:C.query.id});0===e.code&&(A.value=e.data.redepartment,j.value="update")}else j.value="create"})();const V=async()=>{var e;null==(e=_.value)||e.validate((async e=>{if(!e)return;let a;switch(j.value){case"create":default:a=await g(A.value);break;case"update":a=await v(A.value)}0===a.code&&m({type:"success",message:"创建/更改成功"})}))},h=()=>{D.go(-1)};return(e,a)=>{const l=i,r=c,m=p,f=B;return t(),o("div",null,[s("div",b,[d(f,{model:A.value,ref_key:"elFormRef",ref:_,"label-position":"right",rules:E,"label-width":"80px"},{default:n((()=>[d(r,{label:"系编号:",prop:"dno"},{default:n((()=>[d(l,{modelValue:A.value.dno,"onUpdate:modelValue":a[0]||(a[0]=e=>A.value.dno=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(r,{label:"系名:",prop:"dname"},{default:n((()=>[d(l,{modelValue:A.value.dname,"onUpdate:modelValue":a[1]||(a[1]=e=>A.value.dname=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(r,{label:"系主任:",prop:"dmanagerno"},{default:n((()=>[d(l,{modelValue:A.value.dmanagerno,"onUpdate:modelValue":a[2]||(a[2]=e=>A.value.dmanagerno=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(r,null,{default:n((()=>[d(m,{type:"primary",onClick:V},{default:n((()=>[u("保存")])),_:1}),d(m,{type:"primary",onClick:h},{default:n((()=>[u("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{y as default};
